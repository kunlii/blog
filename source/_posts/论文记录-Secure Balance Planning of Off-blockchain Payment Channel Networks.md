---
title: 论文记录-Secure Balance Planning of Off-blockchain Payment Channel Networks
date: 2022-11-08 21:01:40
tags: blockchain 
categories: 论文
description: 区块链支付网络
---

# Secure Balance Planning of Off-blockchain Payment Channel Networks

## Abstract
链下支付渠道可以通过实现“无需向区块链提交单笔支付即可在两个区块链节点之间进行大量小额支付”这一点来显著提高区块链的可扩展性。多个支付渠道可以形成一个支付网络，从而使得没有直接相连的两个节点也可以进行支付。构建支付网络的一个关键挑战在于决定应该将多少资金存入支付渠道作为初始余额，这严重影响了支付网络的性能，却少有研究。本文通过设计支付网络的余额规划服务`PnP`来解决这一问题。考虑到节点之间估计的支付需求，`PnP`可以决定通道余额，以较高的概率满足这些需求。它不依赖于任何可信第三方，并能以较低的开销提供强大的保护来防止恶意攻击。它包含两个创新点：加密排序和机会约束的平衡规划算法。在一个由30个节点组成的测试平台上的实验结果表明，`PnP`可以比其他设计多实现30%的支付。

## Intro
1. 区块链牺牲了可扩展性来实现去中心化和一致性，因为共识需要包含所有节点，例如比特币和以太坊每秒处理的交易都很少
2. 近年来有研究提出了新的共识来，可以实现每秒上千交易，单仍然无法满足大规模应用的需求。例如Visa每秒47000笔交易。
3. 交易渠道（payment channels）通过在两个区块链节点之间创建私有通道来解决可扩展性问题。具体来说，两个节点建立了一个特殊的渠道合约，该合约将一定数量的资金作为初始余额。随后，这两个节点可以在通道上进行交易并自行维护渠道余额。因为渠道上的交易并不提交给区块链，所以区块链的可扩展性就显著提升了。
4. 节点之间的多个支付渠道可以构成支付网络，从而使得没有支付渠道直接相连的两个节点可以通过多跳的方式实现链下交易。如今已经有了实现这样功能的网络，例如比特币的Lighting Network和以太坊的Raiden Network。（注意这个闪电网络和闪电贷不是一个东西）
5. 建立支付渠道的关键问题在于初始余额。如果钱给少了，则这个渠道要时不时重新构建，导致了更频繁的区块链访问操作。而钱给多了又是不必要的。如果考虑多跳交易的支付网络，这个问题就更复杂了。 现有研究大多假设支付渠道里的钱是足够的，但这并不现实。而一个考虑了这个问题的研究则引入了中心化的可信第三方，这更容易受到恶意攻击了。
7. 本文研究了支付网络中的余额规划问题，即给定节点们的支付需求估计，如何决定支付渠道的初始余额。本文设计了一个余额规划服务`PnP`来实现这一点，它可以集成到现有的支付网络中。`PnP`可以利用对支付需求的了解，即使有估计误差，也能将渠道总存款降到最低。它不依赖可信第三方，因此可以抵御来自恶意节点的攻击。此外，它的通信和计算开销很低。`PnP`通过解决两个主要挑战来实现上述优势。
	1. 这个
	2. 那个
8. 本文在Ind上做了实验。 